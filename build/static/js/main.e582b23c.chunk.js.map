{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","id","request","delete","console","log","newPerson","put","deletedStyle","Filter","filter","handleFilterInputChange","className","type","onChange","value","Persons","persons","setPersons","setNotification","setNotificationStyle","map","i","name","number","onClick","personName","window","confirm","personService","personList","setTimeout","catch","error","Form","handleFormSubmit","handleNameInputChange","newName","handleNumberInputChange","newNumber","onSubmit","Notification","message","style","backgroundColor","color","padding","borderColor","borderStyle","width","margin","App","useState","setNewName","setNewNumber","setFilter","notif","notifStyle","useEffect","allPersons","isSamePerson","sum","localeCompare","event","val","target","filt","startsWith","preventDefault","flagSum","reduce","output","concat","addedPerson","alert","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e582b23c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = 'https://phonebook-app-arpit.herokuapp.com/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then( response => response.data);\n} \n\nconst create = (person) => {\n    const request = axios.post(baseUrl, person);\n    return request.then( response => response.data);\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    console.log('Deleted');\n    return request.then( response => response.data);\n} \n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson);\n    return request.then( response => response.data);\n} \n\nexport default { getAll, create, remove, update };","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons';\n\nconst addedStyle = 'addedStyle';\nconst deletedStyle = 'deletedStyle';\n\nconst Filter = ({ filter, handleFilterInputChange }) => {\n  return (\n    <div className=\"formField\">\n      filter shown with: <input type='text' onChange={handleFilterInputChange} value={filter} />\n    </div>\n  )\n}\n\n\nconst Persons = ({ persons, setPersons, setNotification, setNotificationStyle }) => {\n\n const handleDeleteOnClick = (id, personName) => {\n\n  let res = window.confirm('Are you sure, you want to delete the contact');\n\n  if(res) {\n      personService\n    .remove(id)\n    .then(() => {\n      personService\n        .getAll()\n        .then(personList => {\n          setNotificationStyle(deletedStyle)\n          setPersons(personList);\n          setNotification(`Deleted ${personName}`);\n          setTimeout(()=>{\n            setNotification(null);\n            setNotificationStyle(null);\n          },3000)\n        })\n    })\n    .catch(error => {\n      console.log('In catch block')\n      setNotification (`There's some issue with ${personName}`);   \n      setNotificationStyle(deletedStyle);  \n      setTimeout(()=>{\n        setNotification(null);\n        setNotificationStyle(null);\n      },3000)       \n    })\n  }\n}\n\n  return (\n    <ul>\n      {\n        persons.map((person,i) => <li key={i}>{person.name} <br/>{person.number}<br/> <button onClick={() => handleDeleteOnClick(person.id, person.name)}>Delete</button><br/><br/></li>)\n        //persons.filter(person => (((person.name).indexOf(filter))!=-1))    \n      }\n    </ul>\n  )\n}\n\nconst Form = ({ handleFormSubmit, handleNameInputChange, newName, handleNumberInputChange, newNumber }) => {\n\n  return (\n    <form onSubmit={handleFormSubmit}>\n      <div className=\"formField\">\n        Name: <input onChange={handleNameInputChange} value={newName} />\n      </div>\n      <div className=\"formField\">\n        Number: <input onChange={handleNumberInputChange} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n\n\nconst App = () => {\n\n  console.log('In App() >> start');\n  const [persons, setPersons] = useState([])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('');\n\n  const [notif, setNotification] = useState('');\n  const [notifStyle, setNotificationStyle] = useState('');\n\n  useEffect(()=>{\n    console.log('In useEffect');\n\n    personService\n      .getAll()\n      .then( allPersons => setPersons(allPersons));\n    \n  },[]);\n\n  console.log('After useEffect');\n\n  const handleFilterInputChange = (event) => {\n\n    let val = event.target.value;\n\n    if (val == '' || val === 'underfined') {\n      console.log('val', val);\n      setFilter(val);\n     \n      personService\n        .getAll()\n        .then( allPersons => setPersons(allPersons));\n    }\n    else {\n      setFilter(val);\n      var filt = persons.filter(person => {\n        console.log('filter', val);\n        if (((person.name).startsWith(val))) {\n          return true;\n        }\n        return false;\n      })\n      setPersons(filt);\n    }\n    console.log('filt', filt);\n\n  }\n\n  let id = -1;\n\n  const isSamePerson = (sum, person) => {\n    console.log('person name', person.name);\n    console.log('new name', newName);\n    console.log('new number', newNumber);\n\n    if (((person.name).localeCompare(newName)===0) && ((person.number).localeCompare(newNumber))===0) {\n      sum = 1;\n      console.log('same names bro >>');\n    }\n    else if((person.name).localeCompare(newName)===0)\n     {\n        sum = -1;\n        id = person.id;\n     } \n    return sum;\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault();\n    console.log('Submit handled');\n\n    const newPerson = { name: newName, number: newNumber };\n    const flagSum = persons.reduce(isSamePerson, 0);\n\n    console.log('flagsum= ', flagSum);\n\n    if (flagSum === 0) {\n      \n      personService\n        .create(newPerson)\n        .then(output => {\n          setNotificationStyle(addedStyle);\n          setPersons(persons.concat(output))\n          setNotification(`Added ${newName}`);\n          setTimeout(() => {\n            setNotification(null);\n            setNotificationStyle(null);\n          }, 3000);\n\n        })\n        .catch(error => {\n          setNotification (`There's some issue with ${newPerson}`);   \n          setNotificationStyle(deletedStyle);    \n          setTimeout(()=>{\n            setNotification(null);\n            setNotificationStyle(null);\n          },3000)     \n        })\n    }\n    else if(flagSum === -1) {\n      if(window.confirm(`${newName} is already added to phonebook`))\n      {\n        personService\n          .update(id, newPerson)\n          .then(addedPerson => {\n            console.log('id of same person >> ', id);\n            setPersons(persons.map(person => (person.id != id) ? person : addedPerson))\n          })\n          .catch(error => {\n            setNotification (`There's some issue with ${newPerson}`);   \n            setNotificationStyle(deletedStyle);       \n            setTimeout(()=>{\n              setNotification(null);\n              setNotificationStyle(null);\n            },3000)  \n          })\n      }\n    }\n    else\n      window.alert(`${newName} is already added to phonebook`);\n\n    setNewNumber('');\n    setNewName('');\n  }\n\n  const handleNameInputChange = (event) => {\n    //event.preventDefault;\n    console.log('Input Change handled- ', event.target.value);\n    setNewName(event.target.value);\n  }\n\n  const handleNumberInputChange = (event) => {\n    //event.preventDefault;\n    console.log('Input Change handled- ', event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notif} style={notifStyle}/>\n      <Filter filter={filter} handleFilterInputChange={handleFilterInputChange} />\n      <br />\n      <h2>Add new</h2>\n      <Form handleFormSubmit={handleFormSubmit} handleNameInputChange={handleNameInputChange}\n        newName={newName} handleNumberInputChange={handleNumberInputChange} newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} setNotification={setNotification} setNotificationStyle={setNotificationStyle}/>\n    </div>\n  )\n}\n\nconst Notification = ({message, style}) => {\n  \n  const addedStyle = {\n    backgroundColor: 'lightseagreen',\n    color: 'darkgreen',\n    padding: '.1rem', \n    borderColor: 'darkgreen',\n    borderStyle: 'solid',\n    width: '60%',\n    margin: 'auto'\n  }\n\n  const deletedStyle = {\n    backgroundColor: 'lightgrey',\n    color: 'red',\n    padding: '.1rem', \n    borderColor: 'red',\n    borderStyle: 'solid',\n    width: '60%',\n    margin: 'auto'\n  }\n\n  if(style === 'deletedStyle')\n    return <div style={deletedStyle}>{message}</div>;\n  else if(style === 'addedStyle')\n    return <div style={addedStyle}>{message}</div>;\n  return null;\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}